{"version":3,"sources":["useSize/index.tsx"],"names":["useLayoutEffect","useState","ResizeObserver","useSize","target","el","width","clientWidth","height","clientHeight","state","setState","resizeObserver","entries","forEach","entry","observe","disconnect"],"mappings":";AACA,SAASA,eAAT,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,OAAOC,cAAP,MAA2B,0BAA3B;;AAYA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA2D;AAAA,MAAxDC,MAAwD,QAAxDA,MAAwD;;AACzE,kBAA0BH,QAAQ,CAAC,YAAM;AACvC,QAAMI,EAAE,GAAGD,MAAX;AACA,WAAO;AACLE,MAAAA,KAAK,EAAE,CAAED,EAAE,IAAI,EAAR,EAA4BE,WAD9B;AAELC,MAAAA,MAAM,EAAE,CAAEH,EAAE,IAAI,EAAR,EAA4BI;AAF/B,KAAP;AAID,GANiC,CAAlC;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAOAX,EAAAA,eAAe,CAAC,YAAM;AACpB,QAAI,CAACI,MAAL,EAAa;AACX,aAAO,YAAM,CAAE,CAAf;AACD;;AACD,QAAMQ,cAAc,GAAG,IAAIV,cAAJ,CAAmB,UAACW,OAAD,EAAa;AACrDA,MAAAA,OAAO,CAACC,OAAR,CAAgB,UAACC,KAAD,EAAW;AAAA;;AACzBJ,QAAAA,QAAQ,CAAC;AACPL,UAAAA,KAAK,mBAAGS,KAAK,CAACX,MAAT,kDAAE,cAA2BG,WAD3B;AAEPC,UAAAA,MAAM,oBAAGO,KAAK,CAACX,MAAT,mDAAE,eAA2BK;AAF5B,SAAD,CAAR;AAID,OALD;AAMD,KAPsB,CAAvB;AAQAG,IAAAA,cAAc,CAACI,OAAf,CAAuBZ,MAAvB;AACA,WAAO,YAAM;AACXQ,MAAAA,cAAc,CAACK,UAAf;AACD,KAFD;AAGD,GAhBc,EAgBZ,CAACb,MAAD,CAhBY,CAAf;AAiBA,SAAOM,KAAP;AACD,CA1BD;;AA4BA,eAAeP,OAAf","sourcesContent":["import type { MutableRefObject } from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\n\ntype baseTarget<T = HTMLElement> =\n  | (() => T | null)\n  | T\n  | null\n  | MutableRefObject<T | null | undefined>;\n\ninterface Tprops {\n  target: baseTarget;\n}\n\nconst useSize = ({ target }: Tprops): { width: number; height: number } => {\n  const [state, setState] = useState(() => {\n    const el = target;\n    return {\n      width: ((el || {}) as HTMLElement).clientWidth,\n      height: ((el || {}) as HTMLElement).clientHeight,\n    };\n  });\n  useLayoutEffect(() => {\n    if (!target) {\n      return () => {};\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        setState({\n          width: (entry.target as Element)?.clientWidth,\n          height: (entry.target as Element)?.clientHeight,\n        });\n      });\n    });\n    resizeObserver.observe(target as HTMLElement);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [target]);\n  return state;\n};\n\nexport default useSize;\n"],"file":"index.js"}