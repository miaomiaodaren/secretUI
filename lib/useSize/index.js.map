{"version":3,"sources":["useSize/index.tsx"],"names":["useSize","target","el","width","clientWidth","height","clientHeight","state","setState","resizeObserver","ResizeObserver","entries","forEach","entry","observe","disconnect"],"mappings":";;;;;;;;;;;AACA;;AACA;;AAYA,IAAMA,OAAO,GAAG,SAAVA,OAAU,OAA2D;AAAA,MAAxDC,MAAwD,QAAxDA,MAAwD;;AACzE,kBAA0B,qBAAS,YAAM;AACvC,QAAMC,EAAE,GAAGD,MAAX;AACA,WAAO;AACLE,MAAAA,KAAK,EAAGD,EAAD,CAAoBE,WADtB;AAELC,MAAAA,MAAM,EAAGH,EAAD,CAAoBI;AAFvB,KAAP;AAID,GANyB,CAA1B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAcC,QAAd;;AAOA,8BAAgB,YAAM;AACpB,QAAI,CAACP,MAAL,EAAa;AACX,aAAO,YAAM,CAAE,CAAf;AACD;;AACD,QAAMQ,cAAc,GAAG,IAAIC,kCAAJ,CAAmB,UAACC,OAAD,EAAa;AACrDA,MAAAA,OAAO,CAACC,OAAR,CAAgB,UAACC,KAAD,EAAW;AAAA;;AACzBL,QAAAA,QAAQ,CAAC;AACPL,UAAAA,KAAK,mBAAGU,KAAK,CAACZ,MAAT,kDAAE,cAA2BG,WAD3B;AAEPC,UAAAA,MAAM,oBAAGQ,KAAK,CAACZ,MAAT,mDAAE,eAA2BK;AAF5B,SAAD,CAAR;AAID,OALD;AAMD,KAPsB,CAAvB;AAQAG,IAAAA,cAAc,CAACK,OAAf,CAAuBb,MAAvB;AACA,WAAO,YAAM;AACXQ,MAAAA,cAAc,CAACM,UAAf;AACD,KAFD;AAGD,GAhBD,EAgBG,CAACd,MAAD,CAhBH;AAiBA,SAAOM,KAAP;AACD,CA1BD;;eA4BeP,O","sourcesContent":["import type { MutableRefObject } from 'react';\nimport { useLayoutEffect, useState } from 'react';\nimport ResizeObserver from 'resize-observer-polyfill';\n\ntype baseTarget<T = HTMLElement> =\n  | (() => T | null)\n  | T\n  | null\n  | MutableRefObject<T | null | undefined>;\n\ninterface Tprops {\n  target: baseTarget;\n}\n\nconst useSize = ({ target }: Tprops): { width: number; height: number } => {\n  const [state, setState] = useState(() => {\n    const el = target;\n    return {\n      width: (el as HTMLElement).clientWidth,\n      height: (el as HTMLElement).clientHeight,\n    };\n  });\n  useLayoutEffect(() => {\n    if (!target) {\n      return () => {};\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      entries.forEach((entry) => {\n        setState({\n          width: (entry.target as Element)?.clientWidth,\n          height: (entry.target as Element)?.clientHeight,\n        });\n      });\n    });\n    resizeObserver.observe(target as HTMLElement);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [target]);\n  return state;\n};\n\nexport default useSize;\n"],"file":"index.js"}